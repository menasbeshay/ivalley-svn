dojo.require("wc.render.common");CommonControllersDeclarationJS={langId:"-1",storeId:"",catalogId:"",ajaxCheckOut:true,setCommonParameters:function(langId,storeId,catalogId){this.langId=langId;this.storeId=storeId;this.catalogId=catalogId},setControllerURL:function(controllerId,url){wc.render.getRefreshControllerById(controllerId).url=url}};wc.render.declareRefreshController({id:"MiniShoppingCartController",renderContext:wc.render.getContextById("MiniShoppingCartContext"),url:"",formId:"",modelChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(message.actionId in order_updated||message.actionId=="AjaxDeleteOrderItemForShippingBillingPage"){var param=[];if(message.actionId=="AjaxAddOrderItem"){param.addedOrderItemId=message.orderItemId+"";showDropdown=true}widget.refresh(param)}},postRefreshHandler:function(widget){}}),wc.render.declareRefreshController({id:"CategoryDisplay_Controller",renderContext:wc.render.getContextById("CategoryDisplay_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;categoryDisplayJS.contextChanged=true;widget.refresh(renderContext.properties)},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;if(categoryDisplayJS.contextChanged&&(!categoryDisplayJS.isHistory)){var identifier="&identifier="+(new Date()).getTime();var historyObject=new categoryDisplayJS.HistoryTracker("CategoryDisplay_Widget",controller.url+identifier);dojo.back.addToHistory(historyObject);categoryDisplayJS.contextChanged=false;categoryDisplayJS.isHistory=false}cursor_clear();try{if(typeof(ceadojo)!="undefined"){ceadojo.publish("/wc/collaboration/CategoryDisplayRefreshed",[])}}catch(err){console.log(err)}}}),wc.render.declareRefreshController({id:"SubCategoryDisplay_Controller",renderContext:wc.render.getContextById("SubCategoryDisplay_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;categoryDisplayJS.contextChanged=true;widget.refresh(renderContext.properties)},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;if(categoryDisplayJS.contextChanged&&(!categoryDisplayJS.isHistory)){var identifier="&identifier="+(new Date()).getTime();var historyObject=new categoryDisplayJS.HistoryTracker("SubCategoryDisplay_Widget",controller.url+identifier);dojo.back.addToHistory(historyObject);categoryDisplayJS.contextChanged=false;categoryDisplayJS.isHistory=false}cursor_clear()}}),wc.render.declareRefreshController({id:"MyAccount_WishlistDisplay_Controller",renderContext:wc.render.getContextById("MyAccount_WishlistDisplay_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;widget.refresh(renderContext.properties)},modelChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;widget.refresh(renderContext.properties)},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;cursor_clear()}}),wc.render.declareRefreshController({id:"WishlistDisplay_Controller",renderContext:wc.render.getContextById("WishlistDisplay_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;AccountWishListDisplay.contextChanged=true;widget.refresh(renderContext.properties)},modelChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(message.actionId=="InterestItemDelete"){controller.url=wc.render.getRefreshControllerById("WishlistDisplay_Controller").url;widget.refresh(renderContext.properties)}if(message.actionId=="AjaxInterestItemAdd"){controller.url=wc.render.getRefreshControllerById("WishlistDisplay_Controller").url;widget.refresh(renderContext.properties)}if(message.actionId=="AjaxGiftListServiceCreate"||message.actionId=="AjaxGiftListServiceUpdateDescription"||message.actionId=="AjaxGiftListServiceDeleteGiftList"||message.actionId=="AjaxGiftListServiceRemoveItem"||message.actionId=="AjaxGiftListServiceAddItem"){widget.refresh(renderContext.properties)}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;if(AccountWishListDisplay.contextChanged&&(!AccountWishListDisplay.isHistory)){var identifier="&identifier="+(new Date()).getTime();var accountDisplayURL=renderContext.properties.url;if(accountDisplayURL==null||accountDisplayURL==""){accountDisplayURL=controller.url}else{accountDisplayURL=accountDisplayURL}var historyObject=new AccountWishListDisplay.HistoryTracker("WishlistDisplay_Widget",accountDisplayURL+identifier,controller.url+identifier);dojo.back.addToHistory(historyObject);AccountWishListDisplay.contextChanged=false;AccountWishListDisplay.isHistory=false}if((dojo.byId("multipleWishlistController_select")!=null&&dojo.byId("multipleWishlistController_select")!="undefined")){dojo.byId("multipleWishlistController_select").disabled=false}cursor_clear()}}),wc.render.declareRefreshController({id:"SharedWishlistDisplay_Controller",renderContext:wc.render.getContextById("SharedWishlistDisplay_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;widget.refresh(renderContext.properties)},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;cursor_clear()}}),wc.render.declareRefreshController({id:"ShopCartDisplayController",renderContext:wc.render.getContextById("ShopCartPaginationDisplay_Context"),url:"",formId:"",modelChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(message.actionId in order_updated){widget.refresh(renderContext.properties)}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;if(typeof(savedOrdersJS)!=null&&typeof(savedOrdersJS)!="undefined"){savedOrdersJS.isCurrentOrderPage(true)}var controller=this;if(document.getElementById("discountDetailsSection")!=null){document.getElementById("discountDetailsSection").style.display="block"}if(document.getElementById("productdiscountDetailsSection")!=null){document.getElementById("productdiscountDetailsSection").style.display="block"}if(document.getElementById("appliedPromotionCodes")!=null){document.getElementById("appliedPromotionCodes").style.display="block"}if(!CheckoutHelperJS.isAjaxCheckOut()){CheckoutHelperJS.setFieldDirtyFlag(false);CheckoutHelperJS.initDojoEventListenerShoppingCartPage()}var orderId=renderContext.properties.orderId;if(document.getElementById("currentOrderId")){orderId=document.getElementById("currentOrderId").value}ShipmodeSelectionExtJS.displaySavedShipmentTypeForOrder(orderId);if(document.getElementById("OrderFirstItemId")){ShipmodeSelectionExtJS.orderItemId=document.getElementById("OrderFirstItemId").value}cursor_clear()}}),wc.render.declareRefreshController({id:"ShopCartPaginationDisplayController",renderContext:wc.render.getContextById("ShopCartPaginationDisplay_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["beginIndex"])){widget.refresh(renderContext.properties)}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;cursor_clear();if(!CheckoutHelperJS.isAjaxCheckOut()){CheckoutHelperJS.setFieldDirtyFlag(false);CheckoutHelperJS.initDojoEventListenerShoppingCartPage()}var orderId=renderContext.properties.orderId;if(document.getElementById("currentOrderId")){orderId=document.getElementById("currentOrderId").value}ShipmodeSelectionExtJS.displaySavedShipmentTypeForOrder(orderId)}}),wc.render.declareRefreshController({id:"PendingOrderPaginationDisplayController",renderContext:wc.render.getContextById("PendingOrderPaginationDisplay_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["beginIndex"])){widget.refresh(renderContext.properties)}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;cursor_clear()}}),wc.render.declareRefreshController({id:"OrderItemPaginationDisplayController",renderContext:wc.render.getContextById("OrderItemPaginationDisplay_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["beginIndex"])){widget.refresh(renderContext.properties)}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;cursor_clear()}}),wc.render.declareRefreshController({id:"MSOrderItemPaginationDisplayController",renderContext:wc.render.getContextById("MSOrderItemPaginationDisplay_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["beginIndex"])){widget.refresh(renderContext.properties)}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;cursor_clear()}}),wc.render.declareRefreshController({id:"CouponDisplay_Controller",renderContext:wc.render.getContextById("CouponDisplay_Context"),url:"",formId:"",modelChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(message.actionId=="AjaxCouponsAddRemove"||message.actionId=="AjaxWalletItemProcessServiceDelete"){widget.refresh(renderContext.properties)}}}),wc.render.declareRefreshController({id:"PromotionFreeGifts_Controller",renderContext:wc.render.getContextById("PromotionFreeGifts_Context"),url:"",formId:"",modelChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext},renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;widget.refresh(renderContext.properties)},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;cursor_clear();PromotionChoiceOfFreeGiftsJS.showFreeGiftsDialog()}}),wc.render.declareRefreshController({id:"ListOrdersDisplay_Controller",renderContext:wc.render.getContextById("ListOrdersDisplay_Context"),url:"",formId:"",modelChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(message.actionId in listorders_changed){if((message.actionId=="AjaxOrderCreate"||message.actionId=="AjaxSingleOrderCalculate")&&this.renderContext.properties.startNumber!=0){wc.render.updateContext("ListOrdersDisplay_Context",{startNumber:0})}else{widget.refresh(renderContext.properties)}}},renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["startNumber"])){widget.refresh(renderContext.properties)}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;if(savedOrdersJS.updateCurrentOrder){savedOrdersJS.initializeCurrentOrder();savedOrdersJS.updateCurrentOrder=false}savedOrdersJS.updateToolbar();savedOrdersJS.checkAllIfNeeded()}}),wc.render.declareRefreshController({id:"PendingOrderDisplayController",renderContext:wc.render.getContextById("PendingOrderPaginationDisplay_Context"),url:"",formId:"",modelChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(message.actionId in order_updated){this.currentDesc=document.getElementById("OrderDescription_input").value;widget.refresh(renderContext.properties)}},postRefreshHandler:function(widget){var controller=this;cursor_clear();if(this.currentDesc!=document.getElementById("OldOrderDescription").value){var inputElement=document.getElementById("OrderDescription_input");if(inputElement!=null&&inputElement!="undefined"){inputElement.value=this.currentDesc;dojo.removeClass(inputElement,"savedOrderDetailsInputBorder");dojo.addClass(inputElement,"savedOrderDetailsInputBorderWarning")}}}}),wc.render.declareRefreshController({id:"BrowsingHistoryController",renderContext:wc.render.getContextById("BrowsingHistoryContext"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["status"])){widget.refresh(renderContext.properties)}},postRefreshHandler:function(widget){if(!document.getElementById("WC_ScrollingProductsESpot_EmptyImgContainer_BrowsingHistory")){document.getElementById("WC_LeftSidebarDisplay_div_5").style.display="block"}}}),wc.render.declareRefreshController({id:"BrowsingHistoryDisplay_Controller",renderContext:wc.render.getContextById("BrowsingHistoryDisplay_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["currentPage"])||controller.testForChangedRC(["pageView"])){widget.refresh(renderContext.properties)}},postRefreshHandler:function(widget){cursor_clear()}}),wc.render.declareRefreshController({id:"CategorySubscriptionController",renderContext:wc.render.getContextById("CategorySubscriptionContext"),url:"",formId:"",modelChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(message.actionId=="AjaxCategorySubscribe"){widget.refresh(renderContext.properties)}},postRefreshHandler:function(widget){cursor_clear();if(dojo.byId("CategorySubscriptionImage")==null){dojo.animateProperty({node:dojo.byId("CategorySubscriptionLink"),duration:1500,properties:{backgroundColor:{start:"yellow",end:dojo.style("CategorySubscriptionLink","backgroundColor")}}}).play()}}}),wc.render.declareRefreshController({id:"RecurringOrderDisplayController",renderContext:wc.render.getContextById("RecurringOrderDisplay_Context"),url:"",formId:"",modelChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(message.actionId=="AjaxCancelSubscription"){controller.url=wc.render.getRefreshControllerById("RecurringOrderDisplayController").url;widget.refresh(renderContext.properties)}},renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["beginIndex"])){widget.refresh(renderContext.properties)}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;cursor_clear()}}),wc.render.declareRefreshController({id:"SubscriptionDisplayController",renderContext:wc.render.getContextById("SubscriptionDisplay_Context"),url:"",formId:"",modelChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(message.actionId=="AjaxCancelSubscription"){controller.url=wc.render.getRefreshControllerById("SubscriptionDisplayController").url;widget.refresh(renderContext.properties)}},renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["beginIndex"])){widget.refresh(renderContext.properties)}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;cursor_clear()}}),wc.render.declareRefreshController({id:"RecentRecurringOrderDisplayController",renderContext:wc.render.getContextById("RecentRecurringOrderDisplay_Context"),url:"",formId:"",modelChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(message.actionId=="AjaxCancelSubscription"){controller.url=wc.render.getRefreshControllerById("RecurringOrderDisplayController").url;widget.refresh(renderContext.properties)}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;cursor_clear()}}),wc.render.declareRefreshController({id:"RecentSubscriptionDisplayController",renderContext:wc.render.getContextById("RecentSubscriptionDisplay_Context"),url:"",formId:"",modelChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(message.actionId=="AjaxCancelSubscription"){controller.url=wc.render.getRefreshControllerById("SubscriptionDisplayController").url;widget.refresh(renderContext.properties)}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;cursor_clear()}}),wc.render.declareRefreshController({id:"RecurringOrderChildOrdersDisplayController",renderContext:wc.render.getContextById("RecurringOrderChildOrdersDisplay_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["beginIndex"])){widget.refresh(renderContext.properties)}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;cursor_clear()}}),wc.render.declareRefreshController({id:"SubscriptionChildOrdersDisplayController",renderContext:wc.render.getContextById("SubscriptionChildOrdersDisplay_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["beginIndex"])){widget.refresh(renderContext.properties)}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;cursor_clear()}}),wc.render.declareRefreshController({id:"AutoSuggestDisplayController",renderContext:wc.render.getContextById("AutoSuggest_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;widget.refresh(renderContext.properties)},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;var response=document.getElementById("suggestedKeywordResults");if(response==null){document.getElementById("autoSuggestDynamic_Result_div").innerHTML=""}showAutoSuggestIfResults()}}),wc.render.declareRefreshController({id:"AutoSuggestCachedSuggestionsController",renderContext:wc.render.getContextById("CachedSuggestions_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;widget.refresh(renderContext.properties)},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;var response=document.getElementById("cachedSuggestions");if(response==null){document.getElementById("autoSuggestCachedSuggestions_div").innerHTML=""}else{var scripts=response.getElementsByTagName("script");var j=scripts.length;for(var i=0;i<j;i++){var newScript=document.createElement("script");newScript.type="text/javascript";newScript.text=scripts[i].text;document.getElementById("autoSuggestCachedSuggestions_div").appendChild(newScript)}retrievedCachedSuggestions=true;var searchTerm=document.getElementById("SimpleSearchForm_SearchTerm").value;if(searchTerm.length>AUTOSUGGEST_THRESHOLD){doStaticAutoSuggest(searchTerm)}}}});