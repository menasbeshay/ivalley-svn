if(!window.console){window.console={}}if(!window.console.log){window.console.log=function(){}}if(!window.console.debug){window.console.debug=function(){}}function getVtoTrackedProducts(){return null}function setVtoTrackedProducts(){return null}function isMilitaryState(state){return state=="AA"||state=="AE"||state=="AP"||state=="Armed Forces Americas"||state=="Armed Forces Europe"||state=="Armed Forces Pacific"}function isMilitaryCity(city){return city.toUpperCase()=="APO"||city.toUpperCase()=="FPO"}function isPOBox(address){var poboxRegex=/\b[P|p]*(OST|ost)*\.*\s*[O|o|0]*(ffice|FFICE)*\.*\s*[B|b][O|o|0][X|x]\b/;if(address){return poboxRegex.test(address)}else{return false}}var isPOBoxAddress=false;var isMilitaryAddress=false;function setCookieFromQS(){var PFTID=getQSParameter("PFTID");var WebAnalyticMapID=getQSParameter("WebAnalyticMapID");if(PFTID!=""&&WebAnalyticMapID!=""){var CookieValues=PFTID+"|"+WebAnalyticMapID;setCookie("LuxPFTracker",CookieValues,365)}}function getQSParameter(name){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regexS="[\\?&]"+name+"=([^&#]*)";var regex=new RegExp(regexS);var results=regex.exec(window.location.href);if(results==null){return""}else{return results[1]}}function setCookie(c_name,value,exdays){$.cookie(c_name,value,{path:"/",expires:exdays})}function showVTOLoader(){var dHeight=$(document).height();$("#vto-container").height(dHeight);$("#vto-container, .vto-loader-wrap").removeClass("hide");$(".vto-loader-wrap").css("top",(($(window).height()-$(".vto-loader-wrap").height())/2)+$(window).scrollTop()+"px");$(".vto-loader-wrap").css("left",(($(window).width()-$(".vto-loader-wrap").width())/2)+$(window).scrollLeft()+"px")}function hideVTOLoader(){$("#vto-container, .vto-loader-wrap").addClass("hide")}var editingShippingAddress=false;var phoneRegex;var zipRegex;$(document).ready(function(){if($.browser.msie&&$.browser.version=="8.0"){$("html").addClass("dj_ie dj_ie8")}else{if($.browser.msie&&$.browser.version=="9.0"){$("html").addClass("dj_ie dj_ie9")}else{if($.browser.webkit){$("html").addClass("dj_chrome dj_safari")}}}requestSubmitted=false;$("#country-options li").click(function(){var countrySelector=$("#country-options");var $this=$(this);if(!countrySelector.hasClass("expanded")){countrySelector.addClass("expanded")}else{if($this.index()==0){countrySelector.removeClass("expanded")}else{location.href=$(this).children().attr("href")}}return false});$("#SimpleSearchForm_SearchTerm").focus(function(e){var $this=$(this);if($this.val()=="Search by keyword or product #"&&$this.hasClass("isB")){$this.val("")}});$("#SimpleSearchForm_SearchTerm").blur(function(e){var $this=$(this);if($this.val()==""&&$this.hasClass("isB")){$this.val("Search by keyword or product #")}});$("#emailAddressStayConnected").focus(function(e){var $this=$(this);if($this.val()=="Enter Address"){$this.val("")}});$("#emailAddressStayConnected").blur(function(e){var $this=$(this);if($this.val()==""){$this.val("Enter Address")}});var hh=$("#header-hover");var hhContents=$("#header-hover-contents");var headerContent=$("#header-hover .marketingText.hide");if(headerContent.length>0){hhContents.appendTo(hh);var content=$.trim(headerContent.html());if(content.length>0){hhContents.html(content+hhContents.html())}}else{hhContents.remove()}$("body").ajaxSend(function(event,jqXHR,options){var showLoader=true;var url=options.url;if(url){url=url.replace(/.*servlet\//,"").replace(/\?.*/,"");var exceptions=["CachedSuggestionsView","AutoSuggestView"];if($.inArray(url,exceptions)>=0){showLoader=false}}if(showLoader){var dHeight=$(document).height();$("#ajax-container").height(dHeight).css("z-index","9999");$("#ajax-container, .ajax-loader-wrap").removeClass("hide");$(".ajax-loader-wrap").css("top",(($(window).height()-$(".ajax-loader-wrap").height())/2)+$(window).scrollTop()+"px");$(".ajax-loader-wrap").css("left",(($(window).width()-$(".ajax-loader-wrap").width())/2)+$(window).scrollLeft()+"px")}});$.unblockUI=function(){$("#ajax-container, .ajax-loader-wrap").addClass("hide")};$("body").ajaxComplete(function(){$.unblockUI()});$("body").ajaxError(function(){$.unblockUI()});$.validator.addMethod("phoneNumber",function(value){var val=value;var isCorrect=false;regexp=new RegExp(phoneNumberRegex);if(regexp.test(val)||$.trim(value).length==0){isCorrect=true}else{isCorrect=false}return isCorrect},"* Invalid");$.validator.addMethod("nickNameCompare",function(value){var val=$.trim(value);var isValid=true;var billingNickName=$.trim($('#billingAddressCreateEditFormDiv_1 input[name="nickName"]').val());if(val==billingNickName){isValid=false}return isValid},"* Invalid");$.validator.addMethod("zipCode",function(value,element){var valid=false;var checkRegex=true;var form=$(element).closest("form").attr("id");if($(".drop_down_country")){if($("#"+form+" .drop_down_country").val()=="IE"){checkRegex=false;valid=true;$("#zipCode").removeClass("required").next(".required").remove();$("#zipCode1").removeClass("required").next(".required").remove();if($("#zipCode").val()==""){$("#zipCode").attr("name","zip")}else{$("#zipCode").attr("name","zipCode")}if($("#zipCode1").val()==""){$("#zipCode1").attr("name","zip")}else{$("#zipCode1").attr("name","zipCode")}}}if(checkRegex){var userInput=value;if(zipRegex==undefined){regexp=new RegExp(zipCodeRegex);if(regexp.test(userInput)){valid=true}}else{regexp=new RegExp(zipRegex);if(regexp.test(userInput)){valid=true}else{valid=false}}}return valid},"* invalid");$.validator.addMethod("militaryCity",function(city,element){var state=$(element).parents("form").find(':input[name="state"]').val();return !isMilitaryState(state)||isMilitaryCity(city)});$.validator.addMethod("militaryState",function(state,element){var city=$(element).parents("form").find(':input[name="city"]').val();return !isMilitaryCity(city)||isMilitaryState(state)});$.validator.addMethod("poBox",function(value){return false});$.validator.addMethod("shippingMethod",function(value){return false});$.validator.addMethod("specialCharacters",function(value){var userInput=value;var valid=false;if(userInput.indexOf("!")==-1&&userInput.indexOf("#")==-1){valid=true}return valid},"* invalid");setCookieFromQS()});function getWishListCount(){var count=0;if(constants.ajaxParams.loggedIn){count=Number($(".wishlist-link .wishURL .count").text())}return count}function setWishListCount(count){$(".wishlist-widget-count, .wishURL .count").text(count)}function stringTemplate(text,vars,prefix){prefix=prefix||"%";if(vars!=undefined&&text!=null){for(var variable in vars){var value=vars[variable];while(text.indexOf(prefix+variable)!=-1){text=text.replace(prefix+variable,value)}}}return text}function getUrlParameters(url){var parameters={};if(!url){url=window.location.href}var parts=url.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(m,key,value){parameters[key]=unescape(value.replace(/\+/g," "))});return parameters}function removeEmptyTopNavigation(){$("ul#navigation > li").not(".content").each(function(){var $this=$(this);if($.trim($this.html())==""){$this.remove()}else{var link=$this.find(".ad");if(link.length==0||$.trim(link.html())==""){$this.remove()}}});var navLinks=$("ul#navigation > li").not(".right").find(".ad a");if(navLinks.length>0){navLinks.last().addClass("no-border-right")}}function capitalize(str){var convertFunction=function(){return arguments[0].toUpperCase()};var capitalizedStr=str;if(str){capitalizedStr=str.replace(/\b[a-z]/g,convertFunction)}return capitalizedStr}function openErrorDialog(errMsg){if($("#second_level_category_popup").is(":visible")){$("#second_level_category_popup").dialog("close")}var modal=$("#error-modal").clone();modal.dialog({modal:true,width:500,open:function(){modal.find("#error-message").html("<span>"+errMsg+"</span>");modal.find(".closeme").click(function(){modal.dialog("close")})},close:function(){$(this).remove()}})}function openSuccessDialog(sucMsg){var modal=$("#success-modal").clone();modal.dialog({modal:true,width:500,stack:false,open:function(){setTimeout(function(){var d=$(document).height();$(".ui-widget-overlay").height(d)},500);modal.find("#success-message").html("<span>"+sucMsg+"</span>");modal.find(".closeme").click(function(){modal.dialog("close")})},close:function(){$(this).remove()}})}function isValidDate(){var month=$("#WC_PersonalInfoExtension_birth_month").val();var day=$("#WC_PersonalInfoExtension_birth_date").val();var year="";if($("#WC_PersonalInfoExtension_birth_year").val()!=undefined){year=$("#WC_PersonalInfoExtension_birth_year").val()}if(month.length<2){month="0"+month}if(day.length<2){day="0"+day}var formedDate=month+"-"+day;var isValid=true;if(year==""||year==undefined){try{$.datepicker.parseDate("mm-dd",formedDate)}catch(error){isValid=false}}else{try{formedDate=year+"-"+formedDate;$.datepicker.parseDate("yy-mm-dd",formedDate)}catch(error){isValid=false}}return isValid}function preventCharacters(fieldID,regex,replace){$(fieldID).keyup(function(e){var $this=$(this);var temp=$this.val();temp=temp.replace(regex,replace);$this.val(temp)})}function addToCart(json){var map=new Object();$(json.catalogEntryAttributes.attributes).each(function(index){if(this.stringValue){map[this.name]=this.stringValue.value}else{if(this.integerValue){map[this.name]=this.integerValue.value}else{if(this.floatValue){map[this.name]=this.floatValue.value}}}});var currentTotal=parseInt($.trim($(".cartURL .count").text()))+1;var brand=map.Brands;var style=json.catalogEntry.description[0].name;var upc=json.catalogEntry.catalogEntryIdentifier.externalIdentifier.partNumber;var price=json.catalogEntry.offerPrice;var s7=constants.services.s7;s7=s7.replace("%upc",upc);s7=s7.replace("%view","qt");s7=s7.replace("%width","200");$(".cart-widget-style").html(style);$(".cart-widget-brand").html(brand);$(".cart-widget-upc span").html(upc);$(".cart-widget-price").html(price);updateCartCount(currentTotal);$(".cart-widget-thumbnail img").attr("src",s7);$("html, body").scrollTop(0);if($("#second_level_category_popup").is(":visible")){$("#second_level_category_popup").dialog("close")}if(!$("#cart-widget-template").is(":visible")&&!$("#vtoModal").is(":visible")){$("#cart-widget-template").slideDown()}if($("#vtoModal").is(":visible")){$("#cartSuccess").show().animate({opacity:1},3000,function(){$("#cartSuccess").hide()})}$("#cart-widget-template .close").bind("click",function(e){$("#cart-widget-template .close").unbind("click");$("#cart-widget-template").slideUp()})}function updateCartCount(count){$(".cart-widget-count, .cartURL .count").text(count)}function addToWishlist(json,doUpdate){var map=new Object();$(json.catalogEntryAttributes.attributes).each(function(index){if(this.stringValue){map[this.name]=this.stringValue.value}else{if(this.integerValue){map[this.name]=this.integerValue.value}else{if(this.floatValue){map[this.name]=this.floatValue.value}}}});var currentTotal=getWishListCount();if(doUpdate){currentTotal=currentTotal+1}var brand=map.Brands;var style=json.catalogEntry.description[0].name;var upc=json.catalogEntry.catalogEntryIdentifier.externalIdentifier.partNumber;var price=json.catalogEntry.offerPrice;var s7=constants.services.s7;s7=s7.replace("%upc",upc);s7=s7.replace("%view","qt");s7=s7.replace("%width","200");$(".wishlist-style").html(style);$(".wishlist-brand").html(brand);$(".wishlist-upc span").html(upc);$(".wishlist-price").html(price);setWishListCount(currentTotal);$(".wishlistThumbnail img").attr("src",s7);$("html, body").scrollTop(0);if($("#second_level_category_popup").is(":visible")){$("#second_level_category_popup").dialog("close")}if(!$("#wishlist-widget").is(":visible")&&!$("#vtoModal").is(":visible")){$("#wishlist-widget").slideDown()}if($("#vtoModal").is(":visible")){$("#wishSuccess").show().animate({opacity:1},3000,function(){$("#wishSuccess").hide()})}$("#wishlist-widget .close").bind("click",function(e){$("#wishlist-widget .close").unbind("click");$("#wishlist-widget").slideUp()})}function addToWishlistExists(urlPrefix,catalogId,langId,productId,storeId,updateWishlistCount){$.ajax({type:"POST",url:urlPrefix+"GetCatalogEntryDetailsByID",data:"catalogId="+catalogId+"&langId="+langId+"&productId="+productId+"&storeId="+storeId,dataType:"text",success:function(data){var d=data.replace("/*","");d=d.replace("*/","");var theJSON=JSON.parse(d);addToWishlist(theJSON,updateWishlistCount)}})}function toggleThumbnailImage(imgSrc,imgId){var disableThumbnailRollover=window.disableThumbnailRollover;if(document.URL.indexOf("pageType=accessories")==-1&&!disableThumbnailRollover){var imgId1="#"+imgId;$(imgId1).attr("src",imgSrc)}}function read_cookie(key){var result;return(result=new RegExp("(?:^|; )"+key+"=([^;]*)").exec(document.cookie))?(result[1]):null}function removeEmptyUtagEntries(utagObj){$.each(utagObj,function(key,val){if(val==undefined){return}if(val==""||val==null){delete utagObj[key]}else{if(typeof val=="string"){val=val.replace(/\\/g,"\\\\");val=val.replace(/'/g,"\\'");val=val.replace(/"/g,'\\"')}}utagObj[key]=val})}function clearFacetCookie(){document.cookie="facets=; path=/"}function clearABCookie(){eraseCookie("abTest")}function createCookie(name,value,days){if(days){var date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));var expires="; expires="+date.toGMTString()}else{var expires=""}document.cookie=name+"="+value+expires+"; path=/"}function readCookie(name){var nameEQ=name+"=";var ca=document.cookie.split(";");for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==" "){c=c.substring(1,c.length)}if(c.indexOf(nameEQ)==0){return c.substring(nameEQ.length,c.length)}}return null}function eraseCookie(name){createCookie(name,"",-1)};