dojo.registerModulePath("wc","../wc");dojo.require("wc.service.common");dojo.require("dojo.io.iframe");dojo.require("dojo.io.script");dojo.require("dojo.parser");dojo.require("dijit.form.Button");dojo.require("wc.widget.WCMenu");dojo.require("wc.widget.WCDialog");dojo.require("wc.widget.ScrollablePane");dojo.require("dijit.layout.TabContainer");dojo.require("dijit.layout.ContentPane");dojo.require("dijit.Tooltip");dojo.require("wc.widget.WCDropDownButton");dojo.require("dijit.Dialog");dojo.require("dojo.dnd.Source");dojo.require("dojo.currency");dojo.require("dijit.Tree");dojo.require("dojo.back");dojo.require("dijit.form.DateTextBox");dojo.require("wc.widget.RefreshArea");dojo.require("wc.render.RefreshController");dojo.require("wc.render.Context");dojo.require("dojo.cookie");dojo.require("dijit.Tooltip");dojo.subscribe("ajaxRequestInitiated","incrementNumAjaxRequest");dojo.subscribe("ajaxRequestCompleted","decrementNumAjaxRequest");dojo.require("wc.service.common");dojo.require("dojo.NodeList-traverse");var showDropdown=false;var dropDownDlg=null;var originalMiniCartWidth=0;var isIE=(document.all)?true:false;var correctBrowser=false;var requestSubmitted=true;var currentId="";var numAjaxRequests=0;var autoSuggestTimer=-1;var autoSuggestKeystrokeDelay=250;var autoSuggestHover=false;var autoSuggestPreviousTerm="";var autoSuggestURL="";var autoSelectOption=-1;var historyIndex=-1;var retrievedCachedSuggestions=false;var TOTAL_SUGGESTED=5;var TOTAL_HISTORY=0;var AUTOSUGGEST_THRESHOLD=0;var DYNAMIC_AUTOSUGGEST_THRESHOLD=0;var CACHED_AUTOSUGGEST_OFFSET=1000;var NUMBER_OF_BRANDS_DISPLAYED=0;function focusSetter(){if(dojo.byId("MiniCartFocusReceiver1")){dojo.byId("MiniCartFocusReceiver1").focus()}else{dojo.byId("MiniCartFocusReceiver2").focus()}}function determineFocus(event){if(event.shiftKey&&event.keyCode==dojo.keys.TAB){if(event.srcElement){if(event.srcElement.id=="MiniCartFocusReceiver1"){if(dojo.byId("WC_MiniShopCartDisplay_link_5")){dojo.byId("WC_MiniShopCartDisplay_link_5").focus()}dojo.stopEvent(event)}else{if(event.srcElement.id=="MiniCartFocusReceiver2"){dojo.byId("MiniCartFocusReceiver2").focus();dojo.stopEvent(event)}}}else{if(event.target.id=="MiniCartFocusReceiver1"){if(dojo.byId("WC_MiniShopCartDisplay_link_5")){dojo.byId("WC_MiniShopCartDisplay_link_5").focus()}dojo.stopEvent(event)}else{if(event.target.id=="MiniCartFocusReceiver2"){dojo.byId("MiniCartFocusReceiver2").focus();dojo.stopEvent(event)}}}}}function destroyDialog(){dojo.query(".dijitDialog",document).forEach(function(tag){if(dijit.byNode(tag).id=="quick_cart_container"){dijit.byNode(tag).destroyRecursive()}});dropDownDlg=null}function showMiniShopCartDropDown1(event,relativeId,contentId,contentType){console.debug(event.keyCode);if(event.keyCode==dojo.keys.DOWN_ARROW){showMiniShopCartDropDown(relativeId,contentId,contentType)}else{if(event.shiftKey&&event.keyCode==dojo.keys.ENTER){showMiniShopCartDropDown(relativeId,contentId,contentType);dojo.stopEvent(event)}}}function showMiniShopCartDropDown(relativeId,contentId,contentType){var t=dojo.byId(relativeId);var c=dojo.coords(t,true);var x1=c.x;var y1=c.y;var cartWidth=dojo.coords(dojo.byId("MiniShoppingCart"),true).w;if(dojo.isIE==8){cartWidth=dojo.coords(dojo.byId("outerCartContainer"),true).w}else{if(dojo.isIE>=7&&dojo.isIE<8){cartWidth=dojo.coords(dojo.byId("miniShopCartBody"),true).w}else{if(dojo.isIE<7){cartWidth=originalMiniCartWidth;if(dojo.locale=="iw-il"||dojo.locale=="ar-eg"){cartWidth=dojo.coords(dojo.byId("outerCartContainer"),true).w}}}}dojo.style(dojo.byId("quick_cart"),"width",cartWidth+"px");var dlgX=x1;if(dojo.isIE){dlgX=x1+dojo.contentBox(dojo.byId(relativeId)).w-cartWidth}if(dojo.locale=="iw-il"||dojo.locale=="ar-eg"){if(dojo.isIE<8){var leftX=dojo.coords(dojo.byId("miniShopCartLeftCorner")).x;var rightX=dojo.coords(dojo.byId("miniShopCartRightCorner")).x;if(rightX>leftX){dlgX=leftX}else{dlgX=rightX}}}if(dropDownDlg){dropDownDlg.y=y1;dropDownDlg.x=dlgX}if(!dropDownDlg){var pane=document.getElementById(contentId);dropDownDlg=new wc.widget.WCDialog({relatedSource:relativeId,x:x1,y:y1},pane);dropDownDlg.x=dlgX}if(dojo.isOpera!=0&&dojo.isOpera!=null){dropDownDlg.x=dropDownDlg.x+window.pageXOffset;dropDownDlg.y=dropDownDlg.y+window.pageYOffset}if(contentType=="orderItemsList"){dojo.byId("MiniShopCartProductsList").style.display="block";dojo.byId("MiniShopCartProductAdded").style.display="none"}else{if(contentType=="orderItemAdded"){dojo.byId("MiniShopCartProductsList").style.display="none";dojo.byId("MiniShopCartProductAdded").style.display="block"}}if(dojo.isIE<7){document.getElementById("quick_cart_container").style.display="block"}$("#second_level_category_popup").dialog("close");setTimeout(dojo.hitch(dropDownDlg,"show",null),5);setTimeout(dojo.hitch(this,"hideUnderlayWrapper",""),5)}function hideUnderlayWrapper(){dojo.query(".dijitDialogUnderlayWrapper",document).forEach(function(tag){tag.style.display="none"})}function loadLink(url){document.location.href=url;try{if(window.top._ceaCollabDialog!=undefined&&window.top._ceaCollabDialog!=null){window.top._ceaCollabDialog.topCategoryClicked(url)}}catch(err){console.log(err)}}function clearSearchField(){searchText=document.getElementById("SimpleSearchForm_SearchTerm").value;if(searchText==document.getElementById("searchTextHolder").innerHTML){document.getElementById("SimpleSearchForm_SearchTerm").value=""}else{document.getElementById("SimpleSearchForm_SearchTerm").select();showAutoSuggestIfResults();autoSuggestHover=false}}function fillSearchField(){if(document.getElementById("SimpleSearchForm_SearchTerm").value==""){document.getElementById("SimpleSearchForm_SearchTerm").value=document.getElementById("searchTextHolder").innerHTML}if(!autoSuggestHover){showAutoSuggest(false)}}function showDropDownMenu(){var showMenu=document.getElementById("header_menu_dropdown");if(document.getElementById("header_menu_dropdown")!=null&&document.getElementById("header_menu_dropdown")!="undefined"){showMenu.style.display="block"}if(document.getElementById("outerCartContainer")!=null&&document.getElementById("outerCartContainer")!="undefined"){var outershopcart=document.getElementById("outerCartContainer");outershopcart.style.display="block"}}function initShopcartTarget(){dojo.subscribe("/dnd/drop",function(source,nodes,copy,target){if(source!=target){target.deleteSelectedNodes()}var actionListScroll=new popupActionProperties();actionListScroll.showProductCompare=showProductCompare;if(target.parent.id=="miniShopCart_dndTarget"){if($.cookie("coShoppingDisableDnd")!=undefined&&$.cookie("coShoppingDisableDnd")=="true"){ceadojo.publish("/wc/collaboration/dndDisabled",[]);return}var indexOfIdentifier=source.parent.id.indexOf("_",0);if(indexOfIdentifier>=0){source.parent.id=source.parent.id.substring(indexOfIdentifier+1)}var dndType=source.node.getAttribute("dndType");if(dndType=="item"||dndType=="package"||dndType=="dynamicKit"){categoryDisplayJS.AddItem2ShopCartAjax(source.parent.id,1,{catalogEntryType:dndType})}else{if(dndType=="product"||dndType=="bundle"){showPopup(source.parent.id,function(e){return e},"miniShopCart_dndTarget",null,actionListScroll)}}}})}function cursor_wait(checkForOpera){var showPopup=true;if(checkForOpera==true){if(dojo.isOpera>0){showPopup=false}}if(showPopup){setTimeout("showProgressBar()",500)}}function showProgressBar(){if(!requestSubmitted){return}displayProgressBar()}function displayProgressBar(){var dHeight=$(document).height();$("#ajax-container").height(dHeight);$("#ajax-container, .ajax-loader-wrap").removeClass("hide");$(".ajax-loader-wrap").css("top",(($(window).height()-$(".ajax-loader-wrap").height())/2)+$(window).scrollTop()+"px");$(".ajax-loader-wrap").css("left",(($(window).width()-$(".ajax-loader-wrap").width())/2)+$(window).scrollLeft()+"px")}function setCurrentId(id){if(!requestSubmitted&&this.currentId==""){this.currentId=id}}function trim(inword){word=inword.toString();var i=0;var j=word.length-1;while(word.charAt(i)==" "){i++}while(word.charAt(j)==" "){j=j-1}if(i>j){return word.substring(i,i)}else{return word.substring(i,j+1)}}function cursor_clear(){requestSubmitted=false;$("#ajax-container, .ajax-loader-wrap").addClass("hide")}function submitRequest(){if(!requestSubmitted){requestSubmitted=true;return true}return false}function setPageLocation(newPageLink){if(!submitRequest()){return}document.location.href=newPageLink}function submitSpecifiedForm(form){var formValid=$(form).valid();if(formValid){form.submit()}else{return false}}function submitSearchForm(form){var searchText=trim(document.getElementById("SimpleSearchForm_SearchTerm").value);if(searchText=="Search by keyword or product #"){searchText=""}if(searchText==document.getElementById("searchTextHolder").innerHTML){document.getElementById("SimpleSearchForm_SearchTerm").value=""}else{document.getElementById("SimpleSearchForm_SearchTerm").value=searchText}return submitSpecifiedForm(form)}function parseWidget(id){}function parseWCCEAWidget(id){var node;var widget=ceadijit.byId(id);if(widget==null||widget==undefined){if(id==null||id==undefined){node=ceadojo.body()}else{node=ceadojo.byId(id)}if(node!=null&&node!=undefined){if(node.getAttribute("ceadojoType")!=null&&node.getAttribute("ceadojoType")!=undefined){ceadojo.parser.instantiate([node])}else{ceadojo.parser.parse(node)}}}}function parseHeader(id){var showMenu=document.getElementById("header_menu_loaded");var hideMenu=document.getElementById("header_menu_overlay");if(currentId.length==0&&document.getElementById("header_menu_loaded")!=null&&document.getElementById("header_menu_loaded")!="undefined"&&document.getElementById("header_menu_overlay")!=null&&document.getElementById("header_menu_overlay")!="undefined"&&document.getElementById("header_menu_loaded").style.display=="none"){setCurrentId((id!=null&&id!=undefined)?id:hideMenu.id);submitRequest();cursor_wait();hideMenu.style.display="none";parseWidget("header_menu_loaded");showMenu.style.display="block";cursor_clear();try{if(window.top._ceaCollabDialog!=undefined||window.top._ceaCollabDialog!=null){dijit.registry.byClass("wc.widget.WCDropDownButton").forEach(function(w){dojo.connect(w,"_onDropDownClick",dojo.hitch(window.top._ceaCollabDialog,"topCategoryClicked",w.getURL()));dojo.connect(w,"onKeyPress",window.top._ceaCollabDialog,function(e){if(e.keyCode==dojo.keys.ENTER){window.top._ceaCollabDialog.topCategoryClicked(w.getURL())}})})}}catch(err){console.log(err)}}}function hideElementById(elementId){$("#elementId").css("display","none")}function showElementById(elementId){var div=dojo.byId(elementId);div.style.display="block"}function hideBackgroundImage(element){element.style.backgroundImage="none"}function showBackgroundImage(element){element.style.backgroundImage="url("+getImageDirectoryPath()+getStyleDirectoryPath()+"product_hover_background.png)"}function checkIE8Browser(){if(dojo.isIE&&dojo.isIE<=8){correctBrowser=true}}function ApprovalToolLink(idTag,approvalToolLinkURL){checkIE8Browser();if(correctBrowser){RFQwindow=window.open(approvalToolLinkURL)}else{MessageHelper.formErrorHandleClient(idTag,MessageHelper.messages.ERROR_INCORRECT_BROWSER);return}}function updateViewAndBeginIndexForCurrencyChange(){if(document.getElementById("fastFinderResultControls")!=null&&document.getElementById("fastFinderResultControls")!=""){if(document.SetCurrencyPreferenceForm.pageView!=null){document.SetCurrencyPreferenceForm.pageView.value=document.FastFinderForm.pageView.value}if(document.SetCurrencyPreferenceForm.beginIndex!=null){document.SetCurrencyPreferenceForm.beginIndex.value=document.FastFinderForm.beginIndex.value}}else{if(document.getElementById("CategoryDisplay_Widget")!=null&&document.getElementById("CategoryDisplay_Widget")!=""){if(wc.render.getContextById("CategoryDisplay_Context").properties.pageView!=""&&document.SetCurrencyPreferenceForm.pageView!=null){document.SetCurrencyPreferenceForm.pageView.value=wc.render.getContextById("CategoryDisplay_Context").properties.pageView}if(wc.render.getContextById("CategoryDisplay_Context").properties.beginIndex!=""&&document.SetCurrencyPreferenceForm.beginIndex!=null){document.SetCurrencyPreferenceForm.beginIndex.value=wc.render.getContextById("CategoryDisplay_Context").properties.beginIndex}}else{if(document.getElementById("Search_Result_Summary")!=null&&document.getElementById("Search_Result_Summary")!=""){if(wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsView!=""&&document.SetCurrencyPreferenceForm.pageView!=null){document.SetCurrencyPreferenceForm.pageView.value=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsView}if(wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsPageNum!=""&&document.SetCurrencyPreferenceForm.beginIndex!=null){document.SetCurrencyPreferenceForm.beginIndex.value=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsPageNum}}else{if(document.getElementById("Search_Result_Summary2")!=null&&document.getElementById("Search_Result_Summary2")!=""){if(wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsView!=""&&document.SetCurrencyPreferenceForm.pageView!=null){document.SetCurrencyPreferenceForm.pageView.value=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsView}if(wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsPageNum!=""&&document.SetCurrencyPreferenceForm.beginIndex!=null){document.SetCurrencyPreferenceForm.beginIndex.value=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsPageNum}}}}}try{if(window.top._ceaCollabDialog!=undefined||window.top._ceaCollabDialog!=null){dojo.byId("SetCurrencyPreferenceForm").URL.value=dojo.byId("SetCurrencyPreferenceForm").URL.value+"&coshopChangeCurrency="+dojo.byId("currencySelection").options[dojo.byId("currencySelection").selectedIndex].value}}catch(err){console.log(err)}}function updateViewAndBeginIndexForLanguageChange(){if(document.getElementById("fastFinderResultControls")!=null&&document.getElementById("fastFinderResultControls")!=""){if(document.LanguageSelectionForm.pageView!=null){document.LanguageSelectionForm.pageView.value=document.FastFinderForm.pageView.value}if(document.LanguageSelectionForm.beginIndex!=null){document.LanguageSelectionForm.beginIndex.value=document.FastFinderForm.beginIndex.value}}else{if(document.getElementById("CategoryDisplay_Widget")!=null&&document.getElementById("CategoryDisplay_Widget")!=""){if(wc.render.getContextById("CategoryDisplay_Context").properties.pageView!=""&&document.LanguageSelectionForm.pageView!=null){document.LanguageSelectionForm.pageView.value=wc.render.getContextById("CategoryDisplay_Context").properties.pageView}if(wc.render.getContextById("CategoryDisplay_Context").properties.beginIndex!=""&&document.LanguageSelectionForm.beginIndex!=null){document.LanguageSelectionForm.beginIndex.value=wc.render.getContextById("CategoryDisplay_Context").properties.beginIndex}}else{if(document.getElementById("Search_Result_Summary")!=null&&document.getElementById("Search_Result_Summary")!=""){if(wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsView!=""&&document.LanguageSelectionForm.pageView!=null){document.LanguageSelectionForm.pageView.value=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsView}if(wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsPageNum!=""&&document.LanguageSelectionForm.beginIndex!=null){document.LanguageSelectionForm.beginIndex.value=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsPageNum}}else{if(document.getElementById("Search_Result_Summary2")!=null&&document.getElementById("Search_Result_Summary2")!=""){if(wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsView!=""&&document.LanguageSelectionForm.pageView!=null){document.LanguageSelectionForm.pageView.value=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsView}if(wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsPageNum!=""&&document.LanguageSelectionForm.beginIndex!=null){document.LanguageSelectionForm.beginIndex.value=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsPageNum}}}}}try{if(window.top._ceaCollabDialog!=undefined||window.top._ceaCollabDialog!=null){dojo.byId("LanguageSelectionForm").action=dojo.byId("LanguageSelectionForm").action+"&langId="+dojo.byId("languageSelection").options[dojo.byId("languageSelection").selectedIndex].value}}catch(err){console.log(err)}}function showHeaderLinksInTwoLines(){if(document.getElementById("header_links")!=null&&document.getElementById("header_links")!="undefined"){if($("#header_links").width()>750){if(document.getElementById("header_links1")!=null&&document.getElementById("header_links1")!="undefined"){document.getElementById("header_links1").style.display="block"}if(document.getElementById("headerHomeLink")!=null&&document.getElementById("headerHomeLink")!="undefined"){document.getElementById("headerHomeLink").style.display="none"}if(document.getElementById("headerShopCartLink")!=null&&document.getElementById("headerShopCartLink")!="undefined"){document.getElementById("headerShopCartLink").style.display="none"}}document.getElementById("header_links").style.visibility="visible"}}function showLinksInOneLine(){if(document.getElementById("header_links")!=null&&document.getElementById("header_links")!="undefined"){document.getElementById("header_links").style.visibility="visible"}}function isNonNegativeInteger(value){var regExpTester=new RegExp(/^\d*$/);return(value!=null&&value!=""&&regExpTester.test(value))}function isPositiveInteger(value){return(isNonNegativeInteger(value)&&value!=0)}function closeAllDialogs(){dijit.registry.byClass("dijit.Dialog").forEach(function(w){w.hide()})}function setWarningMessageCookie(errorKey){$.cookie("signon_warning_cookie",errorKey,{path:"/"})}function removeCookie(name,options){var params={expires:-1};if(options&&typeof options=="object"){for(var key in options){params[key]=options[key]}}$.cookie(name,null,params)}function getCookie(c){var cookies=document.cookie.split(";");for(var i=0;i<cookies.length;i++){var index=cookies[i].indexOf("=");var name=cookies[i].substr(0,index);name=name.replace(/^\s+|\s+$/g,"");if(name==c){return unescape(cookies[i].substr(index+1))}}}function isStorePreview(contextPathUsed,criteria){if(contextPathUsed.indexOf(criteria)>-1){return true}return false}function hideESpotInfoPopup(id,event){if(event!=null&&event.type=="keypress"&&event.keyCode!="27"){return}else{var quickInfo=dijit.byId(id);if(quickInfo!=null){quickInfo.hide()}}}function showESpotInfoPopup(id,event){if(event!=null&&event.type=="keypress"&&event.keyCode!="13"){return}else{var quickInfo=dijit.byId(id);if(quickInfo!=null){quickInfo.show()}}}function incrementNumAjaxRequest(){if(numAjaxRequests!="undefined"){numAjaxRequests++}}function decrementNumAjaxRequest(){if(numAjaxRequests!="undefined"){if(numAjaxRequests!=0){numAjaxRequests--}}}function doDynamicAutoSuggest(url,searchTerm,showHeader){if(autoSuggestTimer!=-1){clearTimeout(autoSuggestTimer);autoSuggestTimer=-1}autoSuggestTimer=setTimeout(function(){wc.render.getRefreshControllerById("AutoSuggestDisplayController").url=url+"&term="+escape(searchTerm)+"&showHeader="+showHeader;wc.render.updateContext("AutoSuggest_Context",{});autoSuggestTimer=-1},autoSuggestKeystrokeDelay)}function showAutoSuggest(display){var autoSuggest_Result_div=document.getElementById("autoSuggest_Result_div");if(dojo.isIE<7){var autoSuggest_content_div=document.getElementById("autoSuggest_content_div");var autoSuggestDropDownIFrame=document.getElementById("autoSuggestDropDownIFrame")}if(autoSuggest_Result_div!=null&&autoSuggest_Result_div!="undefined"){if(display){autoSuggest_Result_div.style.display="block";if(dojo.isIE<7){autoSuggestDropDownIFrame.style.height=autoSuggest_content_div.scrollHeight;autoSuggestDropDownIFrame.style.display="block"}}else{if(dojo.isIE<7){autoSuggestDropDownIFrame.style.display="none";autoSuggestDropDownIFrame.style.height=0}autoSuggest_Result_div.style.display="none"}}}function showAutoSuggestIfResults(){if(typeof(staticContent)!="undefined"&&document.getElementById(staticContentSectionDiv[0]).innerHTML==""&&document.getElementById("autoSuggestHistory").innerHTML==""&&document.getElementById("dynamicAutoSuggestTotalResults")==null){showAutoSuggest(false)}else{if(document.getElementById("SimpleSearchForm_SearchTerm").value.length<=AUTOSUGGEST_THRESHOLD){showAutoSuggest(false)}else{showAutoSuggest(true)}}}function selectAutoSuggest(term){var searchBox=document.getElementById("SimpleSearchForm_SearchTerm");searchBox.value=term;searchBox.focus();autoSuggestPreviousTerm=term;submitSpecifiedForm(document.CatalogSearchForm)}function highLightSelection(state,index){var selection=document.getElementById("autoSelectOption_"+index);if(selection!=null&&selection!="undefined"){if(state){selection.className="autoSuggestSelected";var searchBox=document.getElementById("SimpleSearchForm_SearchTerm");searchBox.setAttribute("aria-activedescendant","suggestionItem_"+index);var totalDynamicResults=document.getElementById("dynamicAutoSuggestTotalResults");if((totalDynamicResults!=null&&totalDynamicResults!="undefined"&&index<totalDynamicResults.value)||(index>=historyIndex)){searchBox.value=selection.title;autoSuggestPreviousTerm=selection.title;autoSuggestURL=""}else{autoSuggestURL=selection.href}}else{selection.className=""}return true}else{return false}}function enableAutoSelect(index){highLightSelection(false,autoSelectOption);var item=document.getElementById("autoSelectOption_"+index);item.className="autoSuggestSelected";autoSelectOption=index}function resetAutoSuggestKeyword(){var originalKeyedSearchTerm=document.getElementById("autoSuggestOriginalTerm");if(originalKeyedSearchTerm!=null&&originalKeyedSearchTerm!="undefined"){var searchBox=document.getElementById("SimpleSearchForm_SearchTerm");searchBox.value=originalKeyedSearchTerm.value;autoSuggestPreviousTerm=originalKeyedSearchTerm.value}}function clearAutoSuggestResults(){for(var i=0;i<staticContent.length;i++){document.getElementById(staticContentSectionDiv[i]).innerHTML=""}autoSuggestPreviousTerm="";autoSuggestURL="";document.getElementById("autoSuggestDynamic_Result_div").innerHTML="";showAutoSuggest(false)}function doAutoSuggest(event,url,searchTerm){if(searchTerm.length<=AUTOSUGGEST_THRESHOLD){showAutoSuggest(false)}if(event.keyCode==dojo.keys.ENTER){return}if(event.keyCode==dojo.keys.TAB){autoSuggestHover=true;return}if(event.keyCode==dojo.keys.ESCAPE){showAutoSuggest(false);return}if(event.keyCode==dojo.keys.UP_ARROW){var totalDynamicResults=document.getElementById("dynamicAutoSuggestTotalResults");if(highLightSelection(true,autoSelectOption-1)){highLightSelection(false,autoSelectOption);if(autoSelectOption==historyIndex){resetAutoSuggestKeyword()}autoSelectOption--}else{if(autoSelectOption==CACHED_AUTOSUGGEST_OFFSET&&totalDynamicResults!=null&&totalDynamicResults!="undefined"){highLightSelection(false,CACHED_AUTOSUGGEST_OFFSET);autoSelectOption=totalDynamicResults.value-1;highLightSelection(true,autoSelectOption)}else{highLightSelection(false,autoSelectOption);autoSelectOption=-1;var originalKeyedSearchTerm=document.getElementById("autoSuggestOriginalTerm");resetAutoSuggestKeyword()}}return}if(event.keyCode==dojo.keys.DOWN_ARROW){if(highLightSelection(true,autoSelectOption+1)){highLightSelection(false,autoSelectOption);autoSelectOption++}else{if(autoSelectOption<CACHED_AUTOSUGGEST_OFFSET&&highLightSelection(true,CACHED_AUTOSUGGEST_OFFSET)){highLightSelection(false,autoSelectOption);autoSelectOption=CACHED_AUTOSUGGEST_OFFSET;resetAutoSuggestKeyword()}}return}if(searchTerm.length>AUTOSUGGEST_THRESHOLD&&searchTerm==autoSuggestPreviousTerm){return}else{autoSuggestPreviousTerm=searchTerm}if(searchTerm.length<=AUTOSUGGEST_THRESHOLD){return}if(autoSuggestTimer!=-1){clearTimeout(autoSuggestTimer);autoSuggestTimer=-1}if(searchTerm!=""){autoSelectOption=-1;var hasResults=doStaticAutoSuggest(searchTerm);if(searchTerm.length>DYNAMIC_AUTOSUGGEST_THRESHOLD){var showHeader=true;newUrl=url+"&totalBrandCount="+NUMBER_OF_BRANDS_DISPLAYED;doDynamicAutoSuggest(newUrl,searchTerm,showHeader)}else{document.getElementById("autoSuggestDynamic_Result_div").innerHTML=""}}else{clearAutoSuggestResults()}}function doStaticAutoSuggest(searchTerm){var resultList=["","","","","",""];var emptyCell=0;var searchTermLower=searchTerm.toLowerCase();var listCount=CACHED_AUTOSUGGEST_OFFSET;var count=0;var i=0;if(staticContent[i]==undefined){return}for(var j=0;j<staticContent[i].length;j++){var searchName=staticContent[i][j][0];var searchURL=staticContent[i][j][1];var displayName=staticContent[i][j][2];var imageName=staticContent[i][j][3];var index=searchName.toLowerCase().indexOf(searchTermLower);if(index!=-1){resultList[i]=resultList[i]+"<li id='suggestionItem_"+listCount+"' role='listitem' tabindex='-1'><a id='autoSelectOption_"+listCount+"' title='"+displayName+"' onmouseout='this.className=\"\"'; autoSuggestURL='\"\";' onmouseover='enableAutoSelect("+listCount+");' autoSuggestURL='"+searchURL+"'; href=\""+searchURL+"\"><img src='"+imageName+"' alt='' /><span class='search-brand-name none'>"+displayName+"</span></a></li>";count++;listCount++;if(count>=TOTAL_SUGGESTED){break}}}document.getElementById(staticContentSectionDiv[i]).innerHTML="";if(resultList[i]!=""){document.getElementById(staticContentSectionDiv[emptyCell]).innerHTML="<div class='results'><div class='heading'>"+staticContentHeaders[i]+"</div><ul>"+resultList[i]+"</ul></div>";emptyCell++}NUMBER_OF_BRANDS_DISPLAYED=count;if(emptyCell>0){showAutoSuggest(true);return true}return false}function retrieveCachedSuggestions(url){if(!retrievedCachedSuggestions){wc.render.getRefreshControllerById("AutoSuggestCachedSuggestionsController").url=url;wc.render.updateContext("CachedSuggestions_Context",{})}}function getChallengeQuestion(form){var cqValid=$(form).valid();if(cqValid){var logonId=form.logonId.value;$.ajax({url:"ChallengeQuestion?logonId="+logonId,dataType:"json",type:"post",context:this,success:function(data){if(data.success=="true"){$("#forgotPasswordEnterLogonId").css("display","none");$("#challengeQuestionError").html("");$("#challengeQuestion").html(data.challengeQuestion);$("#email").html(data.email);document.ChallengeQuestionForm.logonId.value=data.email;$("#forgotPasswordEnterChallenge").css("display","block")}else{$("challengeQuestionError").html(data.message)}},error:function(){$("#challengeQuestionError").html("There was an error with the request.  Please try again.")}})}}function isNumberKey(evt){var charCode=(evt.which)?evt.which:evt.keyCode;if((charCode>31)&&(charCode<48||charCode>57)){if(charCode==37||charCode==38||charCode==39||charCode==40||charCode==46){return true}else{return false}}return true}function isNotEmpty(inputObj,removeLinkId){var id=inputObj.id;if(inputObj.value==""){if($("#"+id).nextAll(".ccRequired:first").length>0){$("#"+id).nextAll(".ccRequired:first").remove();$("#"+id).removeClass("ccRequired")}if($("#"+id).nextAll(".ccRequired:first").length==0){$('<span class="ccRequired" id="asd">'+MessageHelper.messages.QTY_REQUIRED+"</span>").insertAfter("#"+removeLinkId);$("#"+id).addClass("ccRequired")}}else{if($("#"+id).nextAll(".ccRequired :first").length>0){$("#"+id).nextAll(".ccRequired:first").remove();$("#"+id).removeClass("ccRequired")}return true}};