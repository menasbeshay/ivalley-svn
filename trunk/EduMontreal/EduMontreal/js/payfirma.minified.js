function Payfirma(e,t,n,r,i){function s(e,t,n){if(e!=null)if("number"==typeof e)this.fromNumber(e,t,n);else if(t==null&&"string"!=typeof e)this.fromString(e,256);else this.fromString(e,t)}function o(){return new s(null)}function u(e,t,n,r,i,s){while(--s>=0){var o=t*this[e++]+n[r]+i;i=Math.floor(o/67108864);n[r++]=o&67108863}return i}function a(e,t,n,r,i,s){var o=t&32767,u=t>>15;while(--s>=0){var a=this[e]&32767;var f=this[e++]>>15;var l=u*a+f*o;a=o*a+((l&32767)<<15)+n[r]+(i&1073741823);i=(a>>>30)+(l>>>15)+u*f+(i>>>30);n[r++]=a&1073741823}return i}function f(e,t,n,r,i,s){var o=t&16383,u=t>>14;while(--s>=0){var a=this[e]&16383;var f=this[e++]>>14;var l=u*a+f*o;a=o*a+((l&16383)<<14)+n[r]+i;i=(a>>28)+(l>>14)+u*f;n[r++]=a&268435455}return i}function l(e){return ln.charAt(e)}function c(e,t){var n=cn[e.charCodeAt(t)];return n==null?-1:n}function h(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t;e.s=this.s}function p(e){this.t=1;this.s=e<0?-1:0;if(e>0)this[0]=e;else if(e<-1)this[0]=e+DV;else this.t=0}function d(e){var t=o();t.fromInt(e);return t}function v(e,t){var n;if(t==16)n=4;else if(t==8)n=3;else if(t==256)n=8;else if(t==2)n=1;else if(t==32)n=5;else if(t==4)n=2;else{this.fromRadix(e,t);return}this.t=0;this.s=0;var r=e.length,i=false,o=0;while(--r>=0){var u=n==8?e[r]&255:c(e,r);if(u<0){if(e.charAt(r)=="-")i=true;continue}i=false;if(o==0)this[this.t++]=u;else if(o+n>this.DB){this[this.t-1]|=(u&(1<<this.DB-o)-1)<<o;this[this.t++]=u>>this.DB-o}else this[this.t-1]|=u<<o;o+=n;if(o>=this.DB)o-=this.DB}if(n==8&&(e[0]&128)!=0){this.s=-1;if(o>0)this[this.t-1]|=(1<<this.DB-o)-1<<o}this.clamp();if(i)s.ZERO.subTo(this,this)}function m(){var e=this.s&this.DM;while(this.t>0&&this[this.t-1]==e)--this.t}function g(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var n=(1<<t)-1,r,i=false,s="",o=this.t;var u=this.DB-o*this.DB%t;if(o-->0){if(u<this.DB&&(r=this[o]>>u)>0){i=true;s=l(r)}while(o>=0){if(u<t){r=(this[o]&(1<<u)-1)<<t-u;r|=this[--o]>>(u+=this.DB-t)}else{r=this[o]>>(u-=t)&n;if(u<=0){u+=this.DB;--o}}if(r>0)i=true;if(i)s+=l(r)}}return i?s:"0"}function y(){var e=o();s.ZERO.subTo(this,e);return e}function b(){return this.s<0?this.negate():this}function w(e){var t=this.s-e.s;if(t!=0)return t;var n=this.t;t=n-e.t;if(t!=0)return t;while(--n>=0)if((t=this[n]-e[n])!=0)return t;return 0}function E(e){var t=1,n;if((n=e>>>16)!=0){e=n;t+=16}if((n=e>>8)!=0){e=n;t+=8}if((n=e>>4)!=0){e=n;t+=4}if((n=e>>2)!=0){e=n;t+=2}if((n=e>>1)!=0){e=n;t+=1}return t}function S(){if(this.t<=0)return 0;return this.DB*(this.t-1)+E(this[this.t-1]^this.s&this.DM)}function x(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e;t.s=this.s}function T(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0);t.s=this.s}function N(e,t){var n=e%this.DB;var r=this.DB-n;var i=(1<<r)-1;var s=Math.floor(e/this.DB),o=this.s<<n&this.DM,u;for(u=this.t-1;u>=0;--u){t[u+s+1]=this[u]>>r|o;o=(this[u]&i)<<n}for(u=s-1;u>=0;--u)t[u]=0;t[s]=o;t.t=this.t+s+1;t.s=this.s;t.clamp()}function C(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t){t.t=0;return}var r=e%this.DB;var i=this.DB-r;var s=(1<<r)-1;t[0]=this[n]>>r;for(var o=n+1;o<this.t;++o){t[o-n-1]|=(this[o]&s)<<i;t[o-n]=this[o]>>r}if(r>0)t[this.t-n-1]|=(this.s&s)<<i;t.t=this.t-n;t.clamp()}function k(e,t){var n=0,r=0,i=Math.min(e.t,this.t);while(n<i){r+=this[n]-e[n];t[n++]=r&this.DM;r>>=this.DB}if(e.t<this.t){r-=e.s;while(n<this.t){r+=this[n];t[n++]=r&this.DM;r>>=this.DB}r+=this.s}else{r+=this.s;while(n<e.t){r-=e[n];t[n++]=r&this.DM;r>>=this.DB}r-=e.s}t.s=r<0?-1:0;if(r<-1)t[n++]=this.DV+r;else if(r>0)t[n++]=r;t.t=n;t.clamp()}function L(e,t){var n=this.abs(),r=e.abs();var i=n.t;t.t=i+r.t;while(--i>=0)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0;t.clamp();if(this.s!=e.s)s.ZERO.subTo(t,t)}function A(e){var t=this.abs();var n=e.t=2*t.t;while(--n>=0)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);if((e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV){e[n+t.t]-=t.DV;e[n+t.t+1]=1}}if(e.t>0)e[e.t-1]+=t.am(n,t[n],e,2*n,0,1);e.s=0;e.clamp()}function O(e,t,n){var r=e.abs();if(r.t<=0)return;var i=this.abs();if(i.t<r.t){if(t!=null)t.fromInt(0);if(n!=null)this.copyTo(n);return}if(n==null)n=o();var u=o(),a=this.s,f=e.s;var l=this.DB-E(r[r.t-1]);if(l>0){r.lShiftTo(l,u);i.lShiftTo(l,n)}else{r.copyTo(u);i.copyTo(n)}var c=u.t;var h=u[c-1];if(h==0)return;var p=h*(1<<this.F1)+(c>1?u[c-2]>>this.F2:0);var d=this.FV/p,v=(1<<this.F1)/p,m=1<<this.F2;var g=n.t,y=g-c,b=t==null?o():t;u.dlShiftTo(y,b);if(n.compareTo(b)>=0){n[n.t++]=1;n.subTo(b,n)}s.ONE.dlShiftTo(c,b);b.subTo(u,u);while(u.t<c)u[u.t++]=0;while(--y>=0){var w=n[--g]==h?this.DM:Math.floor(n[g]*d+(n[g-1]+m)*v);if((n[g]+=u.am(0,w,n,y,0,c))<w){u.dlShiftTo(y,b);n.subTo(b,n);while(n[g]<--w)n.subTo(b,n)}}if(t!=null){n.drShiftTo(c,t);if(a!=f)s.ZERO.subTo(t,t)}n.t=c;n.clamp();if(l>0)n.rShiftTo(l,n);if(a<0)s.ZERO.subTo(n,n)}function M(e){var t=o();this.abs().divRemTo(e,null,t);if(this.s<0&&t.compareTo(s.ZERO)>0)e.subTo(t,t);return t}function _(e){this.m=e}function D(e){if(e.s<0||e.compareTo(this.m)>=0)return e.mod(this.m);else return e}function P(e){return e}function H(e){e.divRemTo(this.m,null,e)}function B(e,t,n){e.multiplyTo(t,n);this.reduce(n)}function j(e,t){e.squareTo(t);this.reduce(t)}function F(){if(this.t<1)return 0;var e=this[0];if((e&1)==0)return 0;var t=e&3;t=t*(2-(e&15)*t)&15;t=t*(2-(e&255)*t)&255;t=t*(2-((e&65535)*t&65535))&65535;t=t*(2-e*t%this.DV)%this.DV;return t>0?this.DV-t:-t}function I(e){this.m=e;this.mp=e.invDigit();this.mpl=this.mp&32767;this.mph=this.mp>>15;this.um=(1<<e.DB-15)-1;this.mt2=2*e.t}function q(e){var t=o();e.abs().dlShiftTo(this.m.t,t);t.divRemTo(this.m,null,t);if(e.s<0&&t.compareTo(s.ZERO)>0)this.m.subTo(t,t);return t}function R(e){var t=o();e.copyTo(t);this.reduce(t);return t}function U(e){while(e.t<=this.mt2)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=e[t]&32767;var r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;n=t+this.m.t;e[n]+=this.m.am(0,r,e,t,0,this.m.t);while(e[n]>=e.DV){e[n]-=e.DV;e[++n]++}}e.clamp();e.drShiftTo(this.m.t,e);if(e.compareTo(this.m)>=0)e.subTo(this.m,e)}function z(e,t){e.squareTo(t);this.reduce(t)}function W(e,t,n){e.multiplyTo(t,n);this.reduce(n)}function X(){return(this.t>0?this[0]&1:this.s)==0}function V(e,t){if(e>4294967295||e<1)return s.ONE;var n=o(),r=o(),i=t.convert(this),u=E(e)-1;i.copyTo(n);while(--u>=0){t.sqrTo(n,r);if((e&1<<u)>0)t.mulTo(r,i,n);else{var a=n;n=r;r=a}}return t.revert(n)}function $(e,t){var n;if(e<256||t.isEven())n=new _(t);else n=new I(t);return this.exp(e,n)}function J(){var e=o();this.copyTo(e);return e}function K(){if(this.s<0){if(this.t==1)return this[0]-this.DV;else if(this.t==0)return-1}else if(this.t==1)return this[0];else if(this.t==0)return 0;return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function Q(){return this.t==0?this.s:this[0]<<24>>24}function G(){return this.t==0?this.s:this[0]<<16>>16}function Y(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function Z(){if(this.s<0)return-1;else if(this.t<=0||this.t==1&&this[0]<=0)return 0;else return 1}function et(e){if(e==null)e=10;if(this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e);var n=Math.pow(e,t);var r=d(n),i=o(),s=o(),u="";this.divRemTo(r,i,s);while(i.signum()>0){u=(n+s.intValue()).toString(e).substr(1)+u;i.divRemTo(r,i,s)}return s.intValue().toString(e)+u}function tt(e,t){this.fromInt(0);if(t==null)t=10;var n=this.chunkSize(t);var r=Math.pow(t,n),i=false,o=0,u=0;for(var a=0;a<e.length;++a){var f=c(e,a);if(f<0){if(e.charAt(a)=="-"&&this.signum()==0)i=true;continue}u=t*u+f;if(++o>=n){this.dMultiply(r);this.dAddOffset(u,0);o=0;u=0}}if(o>0){this.dMultiply(Math.pow(t,o));this.dAddOffset(u,0)}if(i)s.ZERO.subTo(this,this)}function nt(e,t,n){if("number"==typeof t){if(e<2)this.fromInt(1);else{this.fromNumber(e,n);if(!this.testBit(e-1))this.bitwiseTo(s.ONE.shiftLeft(e-1),lt,this);if(this.isEven())this.dAddOffset(1,0);while(!this.isProbablePrime(t)){this.dAddOffset(2,0);if(this.bitLength()>e)this.subTo(s.ONE.shiftLeft(e-1),this)}}}else{var r=new Array,i=e&7;r.length=(e>>3)+1;t.nextBytes(r);if(i>0)r[0]&=(1<<i)-1;else r[0]=0;this.fromString(r,256)}}function rt(){var e=this.t,t=new Array;t[0]=this.s;var n=this.DB-e*this.DB%8,r,i=0;if(e-->0){if(n<this.DB&&(r=this[e]>>n)!=(this.s&this.DM)>>n)t[i++]=r|this.s<<this.DB-n;while(e>=0){if(n<8){r=(this[e]&(1<<n)-1)<<8-n;r|=this[--e]>>(n+=this.DB-8)}else{r=this[e]>>(n-=8)&255;if(n<=0){n+=this.DB;--e}}if((r&128)!=0)r|=-256;if(i==0&&(this.s&128)!=(r&128))++i;if(i>0||r!=this.s)t[i++]=r}}return t}function it(e){return this.compareTo(e)==0}function st(e){return this.compareTo(e)<0?this:e}function ot(e){return this.compareTo(e)>0?this:e}function ut(e,t,n){var r,i,s=Math.min(e.t,this.t);for(r=0;r<s;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){i=e.s&this.DM;for(r=s;r<this.t;++r)n[r]=t(this[r],i);n.t=this.t}else{i=this.s&this.DM;for(r=s;r<e.t;++r)n[r]=t(i,e[r]);n.t=e.t}n.s=t(this.s,e.s);n.clamp()}function at(e,t){return e&t}function ft(e){var t=o();this.bitwiseTo(e,at,t);return t}function lt(e,t){return e|t}function ct(e){var t=o();this.bitwiseTo(e,lt,t);return t}function ht(e,t){return e^t}function pt(e){var t=o();this.bitwiseTo(e,ht,t);return t}function dt(e,t){return e&~t}function vt(e){var t=o();this.bitwiseTo(e,dt,t);return t}function mt(){var e=o();for(var t=0;t<this.t;++t)e[t]=this.DM&~this[t];e.t=this.t;e.s=~this.s;return e}function gt(e){var t=o();if(e<0)this.rShiftTo(-e,t);else this.lShiftTo(e,t);return t}function yt(e){var t=o();if(e<0)this.lShiftTo(-e,t);else this.rShiftTo(e,t);return t}function bt(e){if(e==0)return-1;var t=0;if((e&65535)==0){e>>=16;t+=16}if((e&255)==0){e>>=8;t+=8}if((e&15)==0){e>>=4;t+=4}if((e&3)==0){e>>=2;t+=2}if((e&1)==0)++t;return t}function wt(){for(var e=0;e<this.t;++e)if(this[e]!=0)return e*this.DB+bt(this[e]);if(this.s<0)return this.t*this.DB;return-1}function Et(e){var t=0;while(e!=0){e&=e-1;++t}return t}function St(){var e=0,t=this.s&this.DM;for(var n=0;n<this.t;++n)e+=Et(this[n]^t);return e}function xt(e){var t=Math.floor(e/this.DB);if(t>=this.t)return this.s!=0;return(this[t]&1<<e%this.DB)!=0}function Tt(e,t){var n=s.ONE.shiftLeft(e);this.bitwiseTo(n,t,n);return n}function Nt(e){return this.changeBit(e,lt)}function Ct(e){return this.changeBit(e,dt)}function kt(e){return this.changeBit(e,ht)}function Lt(e,t){var n=0,r=0,i=Math.min(e.t,this.t);while(n<i){r+=this[n]+e[n];t[n++]=r&this.DM;r>>=this.DB}if(e.t<this.t){r+=e.s;while(n<this.t){r+=this[n];t[n++]=r&this.DM;r>>=this.DB}r+=this.s}else{r+=this.s;while(n<e.t){r+=e[n];t[n++]=r&this.DM;r>>=this.DB}r+=e.s}t.s=r<0?-1:0;if(r>0)t[n++]=r;else if(r<-1)t[n++]=this.DV+r;t.t=n;t.clamp()}function At(e){var t=o();this.addTo(e,t);return t}function Ot(e){var t=o();this.subTo(e,t);return t}function Mt(e){var t=o();this.multiplyTo(e,t);return t}function _t(e){var t=o();this.divRemTo(e,t,null);return t}function Dt(e){var t=o();this.divRemTo(e,null,t);return t}function Pt(e){var t=o(),n=o();this.divRemTo(e,t,n);return new Array(t,n)}function Ht(e){this[this.t]=this.am(0,e-1,this,0,0,this.t);++this.t;this.clamp()}function Bt(e,t){while(this.t<=t)this[this.t++]=0;this[t]+=e;while(this[t]>=this.DV){this[t]-=this.DV;if(++t>=this.t)this[this.t++]=0;++this[t]}}function jt(){}function Ft(e){return e}function It(e,t,n){e.multiplyTo(t,n)}function qt(e,t){e.squareTo(t)}function Rt(e){return this.exp(e,new jt)}function Ut(e,t,n){var r=Math.min(this.t+e.t,t);n.s=0;n.t=r;while(r>0)n[--r]=0;var i;for(i=n.t-this.t;r<i;++r)n[r+this.t]=this.am(0,e[r],n,r,0,this.t);for(i=Math.min(e.t,t);r<i;++r)this.am(0,e[r],n,r,0,t-r);n.clamp()}function zt(e,t,n){--t;var r=n.t=this.t+e.t-t;n.s=0;while(--r>=0)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp();n.drShiftTo(1,n)}function Wt(e){this.r2=o();this.q3=o();s.ONE.dlShiftTo(2*e.t,this.r2);this.mu=this.r2.divide(e);this.m=e}function Xt(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);else if(e.compareTo(this.m)<0)return e;else{var t=o();e.copyTo(t);this.reduce(t);return t}}function Vt(e){return e}function $t(e){e.drShiftTo(this.m.t-1,this.r2);if(e.t>this.m.t+1){e.t=this.m.t+1;e.clamp()}this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);while(e.compareTo(this.r2)<0)e.dAddOffset(1,this.m.t+1);e.subTo(this.r2,e);while(e.compareTo(this.m)>=0)e.subTo(this.m,e)}function Jt(e,t){e.squareTo(t);this.reduce(t)}function Kt(e,t,n){e.multiplyTo(t,n);this.reduce(n)}function Qt(e,t){var n=e.bitLength(),r,i=d(1),s;if(n<=0)return i;else if(n<18)r=1;else if(n<48)r=3;else if(n<144)r=4;else if(n<768)r=5;else r=6;if(n<8)s=new _(t);else if(t.isEven())s=new Wt(t);else s=new I(t);var u=new Array,a=3,f=r-1,l=(1<<r)-1;u[1]=s.convert(this);if(r>1){var c=o();s.sqrTo(u[1],c);while(a<=l){u[a]=o();s.mulTo(c,u[a-2],u[a]);a+=2}}var h=e.t-1,p,v=true,m=o(),g;n=E(e[h])-1;while(h>=0){if(n>=f)p=e[h]>>n-f&l;else{p=(e[h]&(1<<n+1)-1)<<f-n;if(h>0)p|=e[h-1]>>this.DB+n-f}a=r;while((p&1)==0){p>>=1;--a}if((n-=a)<0){n+=this.DB;--h}if(v){u[p].copyTo(i);v=false}else{while(a>1){s.sqrTo(i,m);s.sqrTo(m,i);a-=2}if(a>0)s.sqrTo(i,m);else{g=i;i=m;m=g}s.mulTo(m,u[p],i)}while(h>=0&&(e[h]&1<<n)==0){s.sqrTo(i,m);g=i;i=m;m=g;if(--n<0){n=this.DB-1;--h}}}return s.revert(i)}function Gt(e){var t=this.s<0?this.negate():this.clone();var n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n;n=r}var i=t.getLowestSetBit(),s=n.getLowestSetBit();if(s<0)return t;if(i<s)s=i;if(s>0){t.rShiftTo(s,t);n.rShiftTo(s,n)}while(t.signum()>0){if((i=t.getLowestSetBit())>0)t.rShiftTo(i,t);if((i=n.getLowestSetBit())>0)n.rShiftTo(i,n);if(t.compareTo(n)>=0){t.subTo(n,t);t.rShiftTo(1,t)}else{n.subTo(t,n);n.rShiftTo(1,n)}}if(s>0)n.lShiftTo(s,n);return n}function Yt(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(t==0)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n}function Zt(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return s.ZERO;var n=e.clone(),r=this.clone();var i=d(1),o=d(0),u=d(0),a=d(1);while(n.signum()!=0){while(n.isEven()){n.rShiftTo(1,n);if(t){if(!i.isEven()||!o.isEven()){i.addTo(this,i);o.subTo(e,o)}i.rShiftTo(1,i)}else if(!o.isEven())o.subTo(e,o);o.rShiftTo(1,o)}while(r.isEven()){r.rShiftTo(1,r);if(t){if(!u.isEven()||!a.isEven()){u.addTo(this,u);a.subTo(e,a)}u.rShiftTo(1,u)}else if(!a.isEven())a.subTo(e,a);a.rShiftTo(1,a)}if(n.compareTo(r)>=0){n.subTo(r,n);if(t)i.subTo(u,i);o.subTo(a,o)}else{r.subTo(n,r);if(t)u.subTo(i,u);a.subTo(o,a)}}if(r.compareTo(s.ONE)!=0)return s.ZERO;if(a.compareTo(e)>=0)return a.subtract(e);if(a.signum()<0)a.addTo(e,a);else return a;if(a.signum()<0)return a.add(e);else return a}function en(e){var t,n=this.abs();if(n.t==1&&n[0]<=dn[dn.length-1]){for(t=0;t<dn.length;++t)if(n[0]==dn[t])return true;return false}if(n.isEven())return false;t=1;while(t<dn.length){var r=dn[t],i=t+1;while(i<dn.length&&r<vn)r*=dn[i++];r=n.modInt(r);while(t<i)if(r%dn[t++]==0)return false}return n.millerRabin(e)}function tn(e){var t=this.subtract(s.ONE);var n=t.getLowestSetBit();if(n<=0)return false;var r=t.shiftRight(n);e=e+1>>1;if(e>dn.length)e=dn.length;var i=o();for(var u=0;u<e;++u){i.fromInt(dn[u]);var a=i.modPow(r,this);if(a.compareTo(s.ONE)!=0&&a.compareTo(t)!=0){var f=1;while(f++<n&&a.compareTo(t)!=0){a=a.modPowInt(2,this);if(a.compareTo(s.ONE)==0)return false}if(a.compareTo(t)!=0)return false}}return true}function nn(e,t){var n=[],r,i;for(i=0;i<t.length-1;i+=2){n.push(parseInt(t.substr(i,2),16))}r=String.fromCharCode.apply(String,n);var t=En.getPublicKey(r);return rn(En.encrypt(e,t))}function rn(e){var t="";var n;for(n=0;n<e.length;n=n+1){t=t+e.charCodeAt(n).toString(16)}return t}function sn(e){var t="";var n;for(n=0;n<e.length;n=n+2){t=t+String.fromCharCode(parseInt(e.substr(n,2),16))}return t}function Sn(e,t){if(t===null){t=1}if(e===null||t<1){return false}e+="";var n=[],r=0,i=e.length;while(r<i){n.push(e.slice(r,r+=t))}return n}function xn(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function Tn(e,t,n){var r=Cn();if(!r){return}var i=n?"POST":"GET";r.open(i,e,true);if(n){r.setRequestHeader("Content-type","application/x-www-form-urlencoded")}r.onreadystatechange=function(){if(r.readyState!=4)return;if(r.status!=200&&r.status!=201){var e=JSON.parse(r.response).error;console.error("Error: "+e);return}t(r.responseText)};if(r.readyState==4)return;r.send(n)}function Cn(){var e=false;for(var t=0;t<Nn.length;t++){try{e=Nn[t]()}catch(n){continue}break}return e}var on;var un=0xdeadbeefcafe;var an=(un&16777215)==15715070;if(an&&navigator.appName=="Microsoft Internet Explorer"){s.prototype.am=a;on=30}else if(an&&navigator.appName!="Netscape"){s.prototype.am=u;on=26}else{s.prototype.am=f;on=28}s.prototype.DB=on;s.prototype.DM=(1<<on)-1;s.prototype.DV=1<<on;var fn=52;s.prototype.FV=Math.pow(2,fn);s.prototype.F1=fn-on;s.prototype.F2=2*on-fn;var ln="0123456789abcdefghijklmnopqrstuvwxyz";var cn=new Array;var hn,pn;hn="0".charCodeAt(0);for(pn=0;pn<=9;++pn)cn[hn++]=pn;hn="a".charCodeAt(0);for(pn=10;pn<36;++pn)cn[hn++]=pn;hn="A".charCodeAt(0);for(pn=10;pn<36;++pn)cn[hn++]=pn;_.prototype.convert=D;_.prototype.revert=P;_.prototype.reduce=H;_.prototype.mulTo=B;_.prototype.sqrTo=j;I.prototype.convert=q;I.prototype.revert=R;I.prototype.reduce=U;I.prototype.mulTo=W;I.prototype.sqrTo=z;s.prototype.copyTo=h;s.prototype.fromInt=p;s.prototype.fromString=v;s.prototype.clamp=m;s.prototype.dlShiftTo=x;s.prototype.drShiftTo=T;s.prototype.lShiftTo=N;s.prototype.rShiftTo=C;s.prototype.subTo=k;s.prototype.multiplyTo=L;s.prototype.squareTo=A;s.prototype.divRemTo=O;s.prototype.invDigit=F;s.prototype.isEven=X;s.prototype.exp=V;s.prototype.toString=g;s.prototype.negate=y;s.prototype.abs=b;s.prototype.compareTo=w;s.prototype.bitLength=S;s.prototype.mod=M;s.prototype.modPowInt=$;s.ZERO=d(0);s.ONE=d(1);jt.prototype.convert=Ft;jt.prototype.revert=Ft;jt.prototype.mulTo=It;jt.prototype.sqrTo=qt;Wt.prototype.convert=Xt;Wt.prototype.revert=Vt;Wt.prototype.reduce=$t;Wt.prototype.mulTo=Kt;Wt.prototype.sqrTo=Jt;var dn=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509];var vn=(1<<26)/dn[dn.length-1];s.prototype.chunkSize=Y;s.prototype.toRadix=et;s.prototype.fromRadix=tt;s.prototype.fromNumber=nt;s.prototype.bitwiseTo=ut;s.prototype.changeBit=Tt;s.prototype.addTo=Lt;s.prototype.dMultiply=Ht;s.prototype.dAddOffset=Bt;s.prototype.multiplyLowerTo=Ut;s.prototype.multiplyUpperTo=zt;s.prototype.modInt=Yt;s.prototype.millerRabin=tn;s.prototype.clone=J;s.prototype.intValue=K;s.prototype.byteValue=Q;s.prototype.shortValue=G;s.prototype.signum=Z;s.prototype.toByteArray=rt;s.prototype.equals=it;s.prototype.min=st;s.prototype.max=ot;s.prototype.and=ft;s.prototype.or=ct;s.prototype.xor=pt;s.prototype.andNot=vt;s.prototype.not=mt;s.prototype.shiftLeft=gt;s.prototype.shiftRight=yt;s.prototype.getLowestSetBit=wt;s.prototype.bitCount=St;s.prototype.testBit=xt;s.prototype.setBit=Nt;s.prototype.clearBit=Ct;s.prototype.flipBit=kt;s.prototype.add=At;s.prototype.subtract=Ot;s.prototype.multiply=Mt;s.prototype.divide=_t;s.prototype.remainder=Dt;s.prototype.divideAndRemainder=Pt;s.prototype.modPow=Qt;s.prototype.modInverse=Zt;s.prototype.pow=Rt;s.prototype.gcd=Gt;s.prototype.isProbablePrime=en;var mn=function(e,t){this.modulus=new s(bn.encode(e),16);this.encryptionExponent=new s(bn.encode(t),16)};var gn={encode:function(e){e=e.replace(/\r\n/g,"\n");var t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<128){t+=String.fromCharCode(r)}else if(r>127&&r<2048){t+=String.fromCharCode(r>>6|192);t+=String.fromCharCode(r&63|128)}else{t+=String.fromCharCode(r>>12|224);t+=String.fromCharCode(r>>6&63|128);t+=String.fromCharCode(r&63|128)}}return t},decode:function(e){var t="";var n=0;var r=$c1=$c2=0;while(n<e.length){r=e.charCodeAt(n);if(r<128){t+=String.fromCharCode(r);n++}else if(r>191&&r<224){$c2=e.charCodeAt(n+1);t+=String.fromCharCode((r&31)<<6|$c2&63);n+=2}else{$c2=e.charCodeAt(n+1);$c3=e.charCodeAt(n+2);t+=String.fromCharCode((r&15)<<12|($c2&63)<<6|$c3&63);n+=3}}return t}};var yn={base64:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){if(!e){return false}var t="";var n,r,i;var s,o,u,a;var f=0;do{n=e.charCodeAt(f++);r=e.charCodeAt(f++);i=e.charCodeAt(f++);s=n>>2;o=(n&3)<<4|r>>4;u=(r&15)<<2|i>>6;a=i&63;if(isNaN(r))u=a=64;else if(isNaN(i))a=64;t+=this.base64.charAt(s)+this.base64.charAt(o)+this.base64.charAt(u)+this.base64.charAt(a)}while(f<e.length);return t},decode:function(e){if(!e)return false;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");var t="";var n,r,i,s;var o=0;do{n=this.base64.indexOf(e.charAt(o++));r=this.base64.indexOf(e.charAt(o++));i=this.base64.indexOf(e.charAt(o++));s=this.base64.indexOf(e.charAt(o++));t+=String.fromCharCode(n<<2|r>>4);if(i!=64)t+=String.fromCharCode((r&15)<<4|i>>2);if(s!=64)t+=String.fromCharCode((i&3)<<6|s)}while(o<e.length);return t}};var bn={hex:"0123456789abcdef",encode:function(e){if(!e)return false;var t="";var n;var r=0;do{n=e.charCodeAt(r++);t+=this.hex.charAt(n>>4&15)+this.hex.charAt(n&15)}while(r<e.length);return t},decode:function(e){if(!e)return false;e=e.replace(/[^0-9abcdef]/g,"");var t="";var n=0;do{t+=String.fromCharCode(this.hex.indexOf(e.charAt(n++))<<4&240|this.hex.indexOf(e.charAt(n++))&15)}while(n<e.length);return t}};var wn=function(e){this.error=false;this.parse=function(e){if(!e){this.error=true;return null}var t=[];while(e.length>0){var n=e.charCodeAt(0);e=e.substr(1);var r=0;if((n&31)==5)e=e.substr(1);else{if(e.charCodeAt(0)&128){var i=e.charCodeAt(0)&127;e=e.substr(1);if(i>0)r=e.charCodeAt(0);if(i>1)r=r<<8|e.charCodeAt(1);if(i>2){this.error=true;return null}e=e.substr(i)}else{r=e.charCodeAt(0);e=e.substr(1)}}var s="";if(r){if(r>e.length){this.error=true;return null}s=e.substr(0,r);e=e.substr(r)}if(n&32)t.push(this.parse(s));else t.push(this.value(n&128?4:n&31,s))}return t};this.value=function(e,t){if(e==1)return t?true:false;else if(e==2)return t;else if(e==3)return this.parse(t.substr(1));else if(e==5)return null;else if(e==6){var n=[];var r=t.charCodeAt(0);n.push(Math.floor(r/40));n.push(r-n[0]*40);var i=[];var s=0;var o;for(o=1;o<t.length;o++){var u=t.charCodeAt(o);i.push(u&127);if(u&128)s++;else{var a;var f=0;for(a=0;a<i.length;a++)f+=i[a]*Math.pow(128,s--);n.push(f);s=0;i=[]}}return n.join(".")}return null};this.data=this.parse(e)};var En={getPublicKey:function(e){if(e.length<50)return false;if(e.substr(0,26)!="-----BEGIN PUBLIC KEY-----")return false;e=e.substr(26);if(e.substr(e.length-24)!="-----END PUBLIC KEY-----")return false;e=e.substr(0,e.length-24);e=new wn(yn.decode(e));if(e.error)return false;e=e.data;if(e[0][0][0]=="1.2.840.113549.1.1.1")return new mn(e[0][1][0][0],e[0][1][0][1]);return false},encrypt:function(e,t){if(!t)return false;var n=t.modulus.bitLength()+7>>3;e=this.pkcs1pad2(e,n);if(!e)return false;e=e.modPowInt(t.encryptionExponent,t.modulus);if(!e)return false;e=e.toString(16);while(e.length<n*2)e="0"+e;return yn.encode(bn.decode(e))},pkcs1pad2:function(e,t){if(t<e.length+11)return null;var n=[];var r=e.length-1;while(r>=0&&t>0)n[--t]=e.charCodeAt(r--);n[--t]=0;while(t>2)n[--t]=Math.floor(Math.random()*254)+1;n[--t]=2;n[--t]=0;return new s(n)}};var Nn=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];var kn=rn(JSON.stringify(t));var Ln=Sn(kn,100);var An="";var On;var Mn=0;var _n=[];var Dn;for(On in Ln){Dn=nn(Ln[On],e);An+=Dn;_n[On]=Dn.length;Mn++}Tn(r,i,"token="+An+"&"+xn(n));return false}