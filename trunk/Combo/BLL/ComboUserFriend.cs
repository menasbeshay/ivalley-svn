
// Generated by MyGeneration Version # (1.3.0.3)

using System;
using Combo.DAL;
namespace Combo.BLL
{
	public class ComboUserFriend : _ComboUserFriend
	{
		public ComboUserFriend()
		{
		
		}

        public virtual bool GetFriendsByUserID(int userid)
        {
            return LoadFromRawSql(@"Select CU.*, A.Path ProfilePic from ComboUserFriend CF
                                    Inner Join ComboUser CU on CF.ComboFriendID = CU.ComboUserID
                                    Left join Attachment A on CU.ProfileImgID = A.AttachmentID
                                    where CF.ComboUserID = {0} and CF.RequestApproved = 1
                                    union 
                                    Select CU.*, A.Path ProfilePic from ComboUserFriend CF
                                    Inner Join ComboUser CU on CF.ComboUserID = CU.ComboUserID
                                    Left join Attachment A on CU.ProfileImgID = A.AttachmentID
                                    where CF.ComboFriendID = {0} and CF.RequestApproved = 1", userid);
        }
	}
}
