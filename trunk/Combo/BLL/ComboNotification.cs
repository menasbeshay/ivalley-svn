
// Generated by MyGeneration Version # (1.3.0.3)

using System;
using Combo.DAL;
namespace Combo.BLL
{
	public class ComboNotification : _ComboNotification
	{
		public ComboNotification()
		{
		
		}

        public virtual bool GetNotificationsbyUserId(int userid) 
        {
            this.Where.ComboUserID.Value = userid;
            this.Where.ComboUserID.Operator = MyGeneration.dOOdads.WhereParameter.Operand.Equal;
            this.Query.AddOrderBy(ColumnNames.NotificationDate, MyGeneration.dOOdads.WhereParameter.Dir.DESC);
            return this.Query.Load();
        }

        public virtual bool GetCountUnReadNotificationsbyUserId(int userid)
        {                        
            return LoadFromRawSql(@"Select count(C.ComboNotificationID) TotalCount from ComboNotification C                                    
                                    Where C.ComboUserID = {0} and (C.IsRead <> 1 or C.IsRead is null)", userid);
        }
	}
}
