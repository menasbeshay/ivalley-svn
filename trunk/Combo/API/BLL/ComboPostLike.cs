
// Generated by MyGeneration Version # (1.3.0.3)

using System;
using Combo.DAL;
namespace Combo.BLL
{
	public class ComboPostLike : _ComboPostLike
	{
		public ComboPostLike()
		{
		
		}

        public virtual bool GetPostLikesByPostID(int pid)
        {
            return LoadFromRawSql(@"Select L.*, U.UserName, U.DisplayName From ComboPostLike L 
                                    inner join ComboUser U on L.ComboUserID = U.ComboUserID
                                    Where L.ComboPostID = {0}", pid);
        }

        public virtual bool GetPostLikesByPostID(int pid, int userid)
        {
            return LoadFromRawSql(@"Select L.*, U.UserName, U.DisplayName , case when PF.ComboUserID is null then 'False' else 'True' end IsFollowing  
                                    From ComboPostLike L 
                                    inner join ComboUser U on L.ComboUserID = U.ComboUserID
                                    left join ProfileFollower PF on U.ComboUserID = PF.ComboUserID and 
                                                                    PF.ComboFollowerID = {1}
                                    Where L.ComboPostID = {0}", pid,userid);
        }


        public virtual bool GetPostLikesCountByUserID(int uid)
        {
            return LoadFromRawSql(@"Select (L.ComboUserID) TotalPostLikes From ComboPostLike L                                     
                                    Where L.ComboUserID = {0}", uid);
        }
	}
}
